# å·¡æ£€Appæ„å»ºè„šæœ¬ä½¿ç”¨è¯´æ˜

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Windowsç¯å¢ƒ

#### 1. ç®€å•æ„å»ºï¼ˆæ¨èï¼‰
```batch
scripts\build-simple.bat
```
- è‡ªåŠ¨æ„å»ºå‰ç«¯ + Android APK
- å¯é€‰æ‹©å®‰è£…åˆ°è®¾å¤‡
- é€‚åˆæ—¥å¸¸å¼€å‘ä½¿ç”¨

#### 2. å¿«é€Ÿæµ‹è¯•
```batch
scripts\quick-test.bat  
```
- æ™ºèƒ½æ£€æµ‹å‰ç«¯èµ„æº
- è‡ªåŠ¨æ„å»ºå¹¶å®‰è£…APK
- é€‚åˆå¿«é€ŸéªŒè¯åŠŸèƒ½

#### 3. ç‰ˆæœ¬åŒæ­¥
```bash
node scripts\version-sync.js
```
- åŒæ­¥package.jsonç‰ˆæœ¬åˆ°Android
- è‡ªåŠ¨ç”ŸæˆversionCode
- ç¡®ä¿ç‰ˆæœ¬ä¸€è‡´æ€§

## ğŸ“‹ å‰ç½®è¦æ±‚

### å¿…éœ€å·¥å…·
- **Node.js 18+**: å‰ç«¯æ„å»º
- **JDK 8/11**: Androidç¼–è¯‘
- **Android SDK**: Androidå¹³å°å·¥å…·

### éªŒè¯ç¯å¢ƒ
```bash
node --version    # åº”æ˜¾ç¤ºv18.x.xæˆ–æ›´é«˜
java -version     # åº”æ˜¾ç¤º1.8.xæˆ–11.x.x
```

### å¯é€‰å·¥å…·
- **ADB**: è‡ªåŠ¨å®‰è£…APKåˆ°è®¾å¤‡
- **Android Studio**: å¼€å‘è°ƒè¯•

## ğŸ”§ æ„å»ºæµç¨‹

### å®Œæ•´æ„å»ºæµç¨‹
```
1. Vue.jså‰ç«¯æ„å»º (npm run build)
   â†“
2. èµ„æºå¤åˆ¶åˆ°Android assets
   â†“  
3. Android APKæ„å»º (gradle assembleDebug)
   â†“
4. APKè¾“å‡º (app-debug.apk)
```

### è¾“å‡ºæ–‡ä»¶ä½ç½®
```
App/inspectionapp/app/build/outputs/apk/
â”œâ”€â”€ debug/
â”‚   â””â”€â”€ app-debug.apk      # Debugç‰ˆæœ¬
â””â”€â”€ release/
    â””â”€â”€ app-release.apk    # Releaseç‰ˆæœ¬
```

## ğŸ“± APKå®‰è£…

### è‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰
è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹è¿æ¥çš„è®¾å¤‡å¹¶å®‰è£…APK

### æ‰‹åŠ¨å®‰è£…
```bash
# é€šè¿‡ADBå®‰è£…
adb install -r app-debug.apk

# æˆ–ç›´æ¥æ‹·è´APKæ–‡ä»¶åˆ°è®¾å¤‡å®‰è£…
```

### è®¾å¤‡è¦æ±‚
- Android 8.0+ (API 26+)
- å¼€å¯USBè°ƒè¯•æ¨¡å¼
- å…è®¸æœªçŸ¥æ¥æºå®‰è£…

## ğŸ› å¸¸è§é—®é¢˜

### 1. å‰ç«¯æ„å»ºå¤±è´¥
```bash
# æ¸…ç†ä¾èµ–é‡æ–°å®‰è£…
cd App/web
rm -rf node_modules package-lock.json
npm install
```

### 2. Androidæ„å»ºå¤±è´¥
```bash
# æ¸…ç†Androidé¡¹ç›®
cd App/inspectionapp
gradlew clean
gradlew assembleDebug
```

### 3. APKå®‰è£…å¤±è´¥
- æ£€æŸ¥è®¾å¤‡è¿æ¥: `adb devices`
- æ£€æŸ¥USBè°ƒè¯•æ˜¯å¦å¼€å¯
- æ£€æŸ¥æ˜¯å¦å…è®¸æœªçŸ¥æ¥æºå®‰è£…

### 4. ç‰ˆæœ¬ä¸ä¸€è‡´
```bash
# è¿è¡Œç‰ˆæœ¬åŒæ­¥è„šæœ¬
node scripts/version-sync.js
```

## ğŸ” é«˜çº§ç”¨æ³•

### æ„å»ºReleaseç‰ˆæœ¬
```batch
# ä¿®æ”¹build-simple.batä¸­çš„gradlewå‘½ä»¤
gradlew assembleRelease
```

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# è®¾ç½®Android SDKè·¯å¾„ï¼ˆå¦‚æœéœ€è¦ï¼‰
set ANDROID_SDK_ROOT=C:\Users\YourName\AppData\Local\Android\Sdk
```

### è‡ªå®šä¹‰æ„å»ºé…ç½®
ç¼–è¾‘ç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼š
- å‰ç«¯é…ç½®: `App/web/vite.config.js`
- Androidé…ç½®: `App/inspectionapp/app/build.gradle`

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ„å»ºé€Ÿåº¦ä¼˜åŒ–
- ä½¿ç”¨ `npm ci` ä»£æ›¿ `npm install`
- å¯ç”¨Gradleæ„å»ºç¼“å­˜
- ä½¿ç”¨å¢é‡æ„å»º

### APKå¤§å°ä¼˜åŒ–
- å¯ç”¨ä»£ç æ··æ·†ï¼ˆReleaseç‰ˆæœ¬ï¼‰
- å‹ç¼©èµ„æºæ–‡ä»¶
- ç§»é™¤æœªä½¿ç”¨çš„ä¾èµ–

## ğŸ¯ æœ€ä½³å®è·µ

1. **å®šæœŸåŒæ­¥ç‰ˆæœ¬**: æ¯æ¬¡å‘å¸ƒå‰è¿è¡Œversion-sync.js
2. **å¢é‡å¼€å‘**: ä½¿ç”¨quick-test.batè¿›è¡Œå¿«é€Ÿè¿­ä»£
3. **ç‰ˆæœ¬ç®¡ç†**: ä¿æŒå‰ç«¯å’ŒAndroidç‰ˆæœ¬å·ä¸€è‡´
4. **æµ‹è¯•éªŒè¯**: æ„å»ºååŠæ—¶åœ¨çœŸæœºä¸Šæµ‹è¯•åŠŸèƒ½

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ç¯å¢ƒè¦æ±‚æ˜¯å¦æ»¡è¶³
2. å·¥å…·ç‰ˆæœ¬æ˜¯å¦å…¼å®¹  
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. è®¾å¤‡æƒé™æ˜¯å¦æ­£ç¡®é…ç½®

---

**æœ€åæ›´æ–°**: 2025-06-24  
**è„šæœ¬ç‰ˆæœ¬**: v1.0  
**å…¼å®¹æ€§**: Windows 10/11, Android 8.0+