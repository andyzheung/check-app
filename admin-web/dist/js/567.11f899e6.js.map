{"version":3,"file":"js/567.11f899e6.js","mappings":"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","sources":["webpack://inspection-admin/./node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","webpack://inspection-admin/./node_modules/@ant-design/icons-vue/es/icons/UserOutlined.js","webpack://inspection-admin/./src/api/user.js","webpack://inspection-admin/./src/views/layout/Layout.vue","webpack://inspection-admin/./src/views/layout/Layout.vue?e00e"],"sourcesContent":["// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","import { createVNode as _createVNode } from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UserOutlined = function UserOutlined(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _createVNode(AntdIcon, _objectSpread({}, p, {\n    \"icon\": UserOutlinedSvg\n  }), null);\n};\n\nUserOutlined.displayName = 'UserOutlined';\nUserOutlined.inheritAttrs = false;\nexport default UserOutlined;","import request from '@/utils/request'\r\n\r\n// 用户登录\r\nexport function login(data) {\r\n  return request({\r\n    url: '/auth/login',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 获取用户信息\r\nexport function getUserInfo() {\r\n  return request({\r\n    url: '/users/info',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 退出登录\r\nexport function logout() {\r\n  return request({\r\n    url: '/auth/logout',\r\n    method: 'post'\r\n  })\r\n}\r\n\r\n// 获取用户列表\r\nexport function getUserList(params) {\r\n  return request({\r\n    url: '/users',\r\n    method: 'get',\r\n    params\r\n  })\r\n}\r\n\r\n// 添加用户\r\nexport function addUser(data) {\r\n  return request({\r\n    url: '/users',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n// 更新用户\r\nexport function updateUser(id, data) {\r\n  return request({\r\n    url: `/users/${id}`,\r\n    method: 'put',\r\n    data\r\n  })\r\n}\r\n\r\n// 删除用户\r\nexport function deleteUser(id) {\r\n  return request({\r\n    url: `/users/${id}`,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 获取用户权限\r\nexport function getUserPermissions(id) {\r\n  return request({\r\n    url: `/users/${id}/permissions`,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 更新用户权限\r\nexport function updateUserPermissions(id, data) {\r\n  return request({\r\n    url: `/users/${id}/permissions`,\r\n    method: 'put',\r\n    data\r\n  })\r\n} ","<template>\r\n  <a-layout class=\"layout\">\r\n    <a-layout-header class=\"header\">\r\n      <div class=\"logo\">巡检管理系统后台</div>\r\n      <a-menu\r\n        v-model:selectedKeys=\"selectedKeys\"\r\n        theme=\"light\"\r\n        mode=\"horizontal\"\r\n        :style=\"{ lineHeight: '56px' }\"\r\n      >\r\n        <a-menu-item v-for=\"item in menuItems\" :key=\"item.key\" @click=\"() => navigateTo(item.path)\">\r\n          {{ item.label }}\r\n        </a-menu-item>\r\n      </a-menu>\r\n      <div class=\"user-info\">\r\n        <a-dropdown>\r\n          <a class=\"ant-dropdown-link\" @click.prevent>\r\n            <user-outlined /> {{ userInfo.name }} <down-outlined />\r\n          </a>\r\n          <template #overlay>\r\n            <a-menu>\r\n              <a-menu-item key=\"0\">\r\n                <a @click=\"handleLogout\">退出登录</a>\r\n              </a-menu-item>\r\n            </a-menu>\r\n          </template>\r\n        </a-dropdown>\r\n      </div>\r\n    </a-layout-header>\r\n    <a-layout-content>\r\n      <div class=\"container\">\r\n        <router-view />\r\n      </div>\r\n    </a-layout-content>\r\n    <a-layout-footer class=\"footer\">\r\n      © 2025 巡检管理系统后台\r\n    </a-layout-footer>\r\n  </a-layout>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { UserOutlined, DownOutlined } from '@ant-design/icons-vue'\r\nimport { message } from 'ant-design-vue'\r\nimport { getUserInfo, logout } from '@/api/user'\r\n\r\nexport default {\r\n  name: 'Layout',\r\n  components: {\r\n    UserOutlined,\r\n    DownOutlined\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    const userInfo = ref({ name: '管理员' })\r\n    \r\n    const menuItems = [\r\n      { key: 'dashboard', label: '仪表盘', path: '/' },\r\n      { key: 'records', label: '巡检记录', path: '/records' },\r\n      { key: 'issues', label: '问题列表', path: '/issues' },\r\n      { key: 'users', label: '用户管理', path: '/users' }\r\n    ]\r\n    \r\n    const selectedKeys = computed(() => {\r\n      const path = route.path\r\n      if (path === '/') return ['dashboard']\r\n      return [path.split('/')[1]]\r\n    })\r\n    \r\n    const navigateTo = (path) => {\r\n      router.push(path)\r\n    }\r\n    \r\n    const handleLogout = async () => {\r\n      try {\r\n        await logout()\r\n        localStorage.removeItem('token')\r\n        message.success('退出登录成功')\r\n        router.push('/login')\r\n      } catch (error) {\r\n        console.error('Logout failed:', error)\r\n      }\r\n    }\r\n    \r\n    onMounted(async () => {\r\n      try {\r\n        const data = await getUserInfo()\r\n        userInfo.value = data\r\n      } catch (error) {\r\n        console.error('Failed to get user info:', error)\r\n      }\r\n    })\r\n    \r\n    return {\r\n      menuItems,\r\n      selectedKeys,\r\n      userInfo,\r\n      navigateTo,\r\n      handleLogout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.layout {\r\n  min-height: 100vh;\r\n}\r\n.header {\r\n  display: flex;\r\n  align-items: center;\r\n  background: #fff;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.05);\r\n  padding: 0 32px;\r\n}\r\n.logo {\r\n  font-weight: bold;\r\n  color: #1890ff;\r\n  font-size: 22px;\r\n  margin-right: 32px;\r\n}\r\n.user-info {\r\n  margin-left: auto;\r\n  cursor: pointer;\r\n}\r\n.ant-dropdown-link {\r\n  color: rgba(0, 0, 0, 0.85);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n</style> ","import { render } from \"./Layout.vue?vue&type=template&id=7757e936&scoped=true\"\nimport script from \"./Layout.vue?vue&type=script&lang=js\"\nexport * from \"./Layout.vue?vue&type=script&lang=js\"\n\nimport \"./Layout.vue?vue&type=style&index=0&id=7757e936&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7757e936\"]])\n\nexport default __exports__"],"names":["UserOutlined","_objectSpread","target","i","arguments","length","source","Object","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","props","context","p","attrs","AntdIcon","A","displayName","inheritAttrs","login","data","request","url","method","getUserInfo","logout","getUserList","params","addUser","updateUser","id","deleteUser","getUserPermissions","updateUserPermissions","class","_createBlock","_component_a_layout","default","_withCtx","_createVNode","_component_a_layout_header","_createElementVNode","_component_a_menu","selectedKeys","$setup","_cache","$event","theme","mode","style","lineHeight","_createElementBlock","_Fragment","_renderList","menuItems","item","_component_a_menu_item","onClick","navigateTo","path","_createTextVNode","_toDisplayString","label","_","_hoisted_1","_component_a_dropdown","overlay","args","handleLogout","_withModifiers","_component_user_outlined","userInfo","name","_component_down_outlined","__","_component_a_layout_content","_hoisted_2","_component_router_view","_component_a_layout_footer","components","DownOutlined","setup","router","useRouter","route","useRoute","ref","computed","split","push","async","localStorage","removeItem","message","success","error","console","onMounted","__exports__","render"],"sourceRoot":""}