---
description: 
globs: 
alwaysApply: false
---
---
description: CI/CD规范【适配所有CI/CD场景】
globs: ["**/pipeline/**/*", "**/workflows/**/*", "**/.github/**/*", "**/.gitlab-ci.yml"]
alwaysApply: true
---


# CI/CD 规范

## 流水线设计
- 统一使用声明式流水线
- 模块化设计，便于复用
- 环境隔离原则
- 失败快速反馈

## 构建规范
- 使用多阶段构建
- 缓存依赖和构建产物
- 版本号管理规范
- 构建日志规范

## 测试集成
- 单元测试必须
- 集成测试可选
- 测试报告归档
- 测试覆盖率要求

## 部署流程
- 灰度发布策略
- 回滚机制
- 环境配置管理
- 部署审批流程

## 安全检查
- 代码扫描
- 依赖检查
- 镜像扫描
- 安全测试

## 监控告警
- 构建状态监控
- 部署状态监控
- 失败通知机制
- 性能监控

## 制品管理
- 制品版本规范
- 制品存储策略
- 制品清理策略
- 制品安全扫描

